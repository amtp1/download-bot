{% extends 'base.html'%}
{% block title %}Скачивания{% endblock %}

{% block body %}
<p><div class="col-sm">
    <p><input  type="text" id="SearchDownloadInput" onkeyup="searchDownloadByUserId()" placeholder="Input User Id"></p>
    </div>
</p>
<div class="relative overflow-x-auto">
    <div class="table-wrapper-scroll-y my-custom-scrollbar">
    <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
        <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
            <tr>
                <th scope="col" class="px-6 py-3">
                  User ID
                </th>
                <th scope="col" class="px-6 py-3">
                    Download Link
                </th>
                <th scope="col" class="px-6 py-3">
                    Content Type
                </th>
                <th scope="col" class="px-6 py-3">
                    Service
                </th>
            </tr>
        </thead>
        <tbody id="downloadsUl">
          {% for download in downloads %}
          <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700">
            <th class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                <strong>{{download.user_id}}</strong>
            </th>
            <th class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                <a href="{{download.link}}">
                  <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19.5 14.25v-2.625a3.375 3.375 0 00-3.375-3.375h-1.5A1.125 1.125 0 0113.5 7.125v-1.5a3.375 3.375 0 00-3.375-3.375H8.25m.75 12l3 3m0 0l3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 00-9-9z"></path>
                  </svg></a>
            </th>
            <th class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                {% if download.content_type == 'video' %}
                  <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path stroke-linecap="round" d="M15.75 10.5l4.72-4.72a.75.75 0 011.28.53v11.38a.75.75 0 01-1.28.53l-4.72-4.72M4.5 18.75h9a2.25 2.25 0 002.25-2.25v-9a2.25 2.25 0 00-2.25-2.25h-9A2.25 2.25 0 002.25 7.5v9a2.25 2.25 0 002.25 2.25z"></path>
                  </svg>
                {% elif download.content_type == 'audio' %}
                  <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M9 9l10.5-3m0 6.553v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 11-.99-3.467l2.31-.66a2.25 2.25 0 001.632-2.163zm0 0V2.25L9 5.25v10.303m0 0v3.75a2.25 2.25 0 01-1.632 2.163l-1.32.377a1.803 1.803 0 01-.99-3.467l2.31-.66A2.25 2.25 0 009 15.553z"></path>
                  </svg>
                {% elif download.content_type == 'story' %}
                  <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z"></path>
                    <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z"></path>
                  </svg>
                {% endif %}
                {% if download.service == 'youtube' %}
                    <i class="bi bi-youtube"></i>
                {% elif download.service == 'instagram' %}
                    <i class="bi bi-instagram"></i>
                {% endif %}
            </th>
            <th>
              {% if download.service == 'youtube' %}
                YouTube
              {% elif download.service == 'instagram' %}
                Instagram
              {% endif %}
            </th>
          </tr>
          {% endfor %}
        </tbody>
    </table>
    </div>
  </div>
{% endblock %}